@php
    $data = [
        "id" => 1,
        "state" => \App\State::draft,
        "title" => "–í—ñ–¥–∫—Ä–∏—Ç–∏–π —à–∞—Ö–æ–≤–∏–π —Ç—É—Ä–Ω—ñ—Ä '–ö–æ—Ä–æ–ª—å –¥–æ—à–∫–∏' ‚Äì —Ä–µ—î—Å—Ç—Ä—É–π—Å—è —Ç–∞ –≤–∏–≥—Ä–∞–≤–∞–π!",
        "description" => "–®–∞–Ω–æ–≤–Ω—ñ —à–∞—Ö–∏—Å—Ç–∏! –†–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Ç—É—Ä–Ω—ñ—Ä '–ö–æ—Ä–æ–ª—å –¥–æ—à–∫–∏'!",
        "imageSrc" => "",
        "date" => \Carbon\Carbon::now()->addWeeks(2)->toDateString(),
        "tournamentType" => \App\TournamentType::chess,
        "linkToForm" => "https://workspace.google.com/intl/uk/products/forms/",
        "hasMoreInfo" => true,
        "hasResults" => false,
        "linkToGallery" => "/gallery/1",
        "content" =>
            '<p><span style="font-weight: bold;">–®–∞–Ω–æ–≤–Ω—ñ –≥—Ä–∞–≤—Ü—ñ —Ç–∞ —à–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫–∏ —à–∞—Ö—ñ–≤!</span></p><p>–®–∞—Ö–æ–≤–∏–π –∫–ª—É–± <span style="font-weight: bold;">[–ù–∞–∑–≤–∞ –∫–ª—É–±—É]</span> –∑–∞–ø—Ä–æ—à—É—î –≤—Å—ñ—Ö –æ—Ö–æ—á–∏—Ö –≤–∑—è—Ç–∏ —É—á–∞—Å—Ç—å —É<span style="font-weight: bold;">–≤—ñ–¥–∫—Ä–∏—Ç–æ–º—É —Ç—É—Ä–Ω—ñ—Ä—ñ "–ö–æ—Ä–æ–ª—å –¥–æ—à–∫–∏"</span>, —è–∫–∏–π –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è <spanstyle="font-weight: bold;">[–¥–∞—Ç–∞]</span> –∑–∞ –∞–¥—Ä–µ—Å–æ—é <span style="font-weight: bold;">[–º—ñ—Å—Ü–µ–ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è]</span>.</p><p><span style="font-weight: bold;">–§–æ—Ä–º–∞—Ç —Ç—É—Ä–Ω—ñ—Ä—É:</span></p><ul><li><p>5 —Ç—É—Ä—ñ–≤ –∑–∞ —à–≤–µ–π—Ü–∞—Ä—Å—å–∫–æ—é —Å–∏—Å—Ç–µ–º–æ—é</p></li><li><p>–ö–æ–Ω—Ç—Ä–æ–ª—å —á–∞—Å—É: <span style="font-weight: bold;">[–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 15 —Ö–≤–∏–ª–∏–Ω –Ω–∞ –ø–∞—Ä—Ç—ñ—é + 5 —Å–µ–∫—É–Ω–¥ –∑–∞—Ö—ñ–¥]</span></p></li><li><p>–†–æ–∑—ñ–≥—Ä–∞—à –ø—Ä–∏–∑–æ–≤–∏—Ö –º—ñ—Å—Ü—å —Ç–∞ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö –Ω–æ–º—ñ–Ω–∞—Ü—ñ–π</p></li></ul><p><span style="font-weight: bold;">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è:</span><br>–î–ª—è —É—á–∞—Å—Ç—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ —Ñ–æ—Ä–º—É –¥–æ <spanstyle="font-weight: bold;">[–¥–∞—Ç–∞]</span> –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º: <spanstyle="font-weight: bold;">[–ø–æ—Å–∏–ª–∞–Ω–Ω—è]</span>. –ö—ñ–ª—å–∫—ñ—Å—Ç—å –º—ñ—Å—Ü—å –æ–±–º–µ–∂–µ–Ω–∞!</p><p><span style="font-weight: bold;">–ü—Ä–∏–∑–∏:</span></p><ul><li><p>üèÜ <span style="font-weight: bold;">1 –º—ñ—Å—Ü–µ:</span> –ì–æ–ª–æ–≤–Ω–∏–π —Ç—Ä–æ—Ñ–µ–π + <spanstyle="font-weight: bold;">[–Ω–∞–≥–æ—Ä–æ–¥–∞]</span></p></li><li><p>ü•à <span style="font-weight: bold;">2-3 –º—ñ—Å—Ü—è:</span> –ú–µ–¥–∞–ª—ñ —Ç–∞ –ø–æ–¥–∞—Ä—É–Ω–∫–∏ –≤—ñ–¥ –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤</p></li><li><p>üéØ <span style="font-weight: bold;">–°–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ –Ω–æ–º—ñ–Ω–∞—Ü—ñ—è:</span> "–ù–∞–π–∫—Ä–∞—â–∞ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è—Ç—É—Ä–Ω—ñ—Ä—É"</p></li></ul><p>–¢—É—Ä–Ω—ñ—Ä ‚Äì —Ü–µ —á—É–¥–æ–≤–∞ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Å–≤–æ—ó —Å–∏–ª–∏, –∑—É—Å—Ç—Ä—ñ—Ç–∏—Å—è –∑ –æ–¥–Ω–æ–¥—É–º—Ü—è–º–∏ —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–µ–∑–∞–±—É—Ç–Ω—ñ–≤—Ä–∞–∂–µ–Ω–Ω—è!</p><p><span style="font-weight: bold;">–ù–µ –ø—Ä–æ“ë–∞–≤—Ç–µ —à–∞–Ω—Å —Å—Ç–∞—Ç–∏ –ö–æ—Ä–æ–ª–µ–º –¥–æ—à–∫–∏!</span> üëë‚ôüÔ∏è</p><p><em>–î–µ—Ç–∞–ª—ñ –∑–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º: <span style="font-weight: bold;">[–Ω–æ–º–µ—Ä]</span>.<br>–û—Ñ—ñ—Ü—ñ–π–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ–¥—ñ—ó:<span style="font-weight: bold;">[–ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–æ—Ü–º–µ—Ä–µ–∂—ñ/—Å–∞–π—Ç]</span>.</em></p>',
    ];
@endphp
<main class="container mx-auto mt-7 lg:flex">
    <div x-data="{{ json_encode($data) }}" id="data-holder" x-init="$nextTick(() => dispatchEvent(new CustomEvent('editor-ready')))" x-bind:data-content="content"
        @update-data.window="Object.assign($data, $event.detail)">
        <section class="grow-3 lg:mr-10">
            <x-blocks.cards.tournaments.create-tournament :props='Arr::except($data, ["content"])' />

            <fieldset class="fieldset ml-5">
                <legend class="fieldset-legend">–¢–∏–ø —Ç—É—Ä–Ω—ñ—Ä–∞:</legend>
                <select x-model="tournamentType" class="select w-40">
                    @foreach ($data["tournamentType"]::cases() as $type)
                        <option value="{{ $type->value }}" @selected($data["tournamentType"]->value == $type->value)>
                            {{ $type->option_title() }}
                        </option>
                    @endforeach
                </select>
            </fieldset>

            <x-blocks.text-editor :is-responsive="$isResponsive" :unresponsive-size='$unresponsiveSize' />
        </section>
        <form action="{{ route("tournament.show", $data["id"]) . "/" }}" method="post"
            @submit.prevent="() => {
                $data.content = window.tiptapEditor.getHTML();
                $el.action += $event.submitter.value;;
                injectDataToForm($el, toRaw($data));

                $nextTick(() => $el.submit());
            }">
            <x-blocks.submit-buttons :state='$data["state"]' />
        </form>
    </div>

    <x-blocks.sidebar.right />
</main>
